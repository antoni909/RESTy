(this["webpackJsonpclass-26-solution"]=this["webpackJsonpclass-26-solution"]||[]).push([[0],{58:function(e,t,r){},60:function(e,t,r){},61:function(e,t,r){},62:function(e,t,r){"use strict";r.r(t);var n=r(27),s=r(28),c=r(34),a=r(32),i=r(2),o=r.n(i),u=r(30),l=r.n(u),d=r(9),j=r(33),h=r(1),b=r(10),O=r(8),p=r.n(O),f=r(12),x=r.n(f),m=(r(58),r(7)),y=r(0),g=function(e){var t=e.title,r=e.method,n=e.url;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("header",{children:[Object(y.jsx)("h1",{"data-testid":"header-1",className:"header",children:t}),Object(y.jsx)("h2",{title:"subtitle",className:"header2",children:"by: antoni909"})]}),r&&n?Object(y.jsx)(m.a,{style:{width:"30rem"},children:Object(y.jsxs)(m.a.Body,{children:[Object(y.jsxs)(m.a.Text,{children:["Method: ",r]}),Object(y.jsxs)(m.a.Text,{children:["URL: ",n]})]})}):null]})},v=function(){return Object(y.jsx)("div",{className:"footer",children:Object(y.jsx)("p",{children:" \xa9 2018 "})})},E=(r(60),function(e){var t=e.handleApiCall,r=Object(i.useState)(""),n=Object(d.a)(r,2),s=n[0],c=n[1],a=Object(i.useState)(""),o=Object(d.a)(a,2),u=o[0],l=o[1],j=function(){var e=Object(b.a)(p.a.mark((function e(r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),t({method:u,url:s}),r.target.reset();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)(m.a,{style:{width:"30rem"},children:Object(y.jsx)(m.a.Body,{children:Object(y.jsxs)("form",{testid:"formsubmit",onSubmit:j,children:[Object(y.jsxs)("label",{children:[Object(y.jsx)("span",{children:" URL "}),Object(y.jsx)("input",{onChange:function(e){return c(e.target.value)},placeholder:"enter url here ...",name:"url",type:"text",required:!0}),Object(y.jsx)("button",{type:"submit",children:" GO "})]}),Object(y.jsxs)("label",{onClick:function(e){return l(e.target.id.toUpperCase())},className:"methods",children:[Object(y.jsx)("span",{id:"get",children:"GET"}),Object(y.jsx)("span",{id:"post",children:"POST"}),Object(y.jsx)("span",{id:"put",children:"PUT"}),Object(y.jsx)("span",{id:"delete",children:"DELETE"})]})]})})})}),T=(r(61),function(e){var t=e.history;return Object(y.jsxs)("div",{children:["Your History:",Object(y.jsx)("ol",{children:t.map((function(e,t){return Object(y.jsxs)("li",{onClick:function(){var t;t=e.url,console.log("clicked: ",t)},children:[e.method," / ",e.url]},t)}))})]})}),k=function(e){var t=e.history,r=e.response,n=e.isLoading;return Object(y.jsx)("div",{children:n?Object(y.jsx)(m.a,{body:!0,style:{width:"50rem"},children:Object(y.jsx)(m.a.Text,{children:"Fetching ..."})}):Object(y.jsx)(m.a,{body:!0,style:{width:"50rem"},children:r?Object(y.jsxs)("div",{children:[Object(y.jsx)(T,{history:t}),"Your JSON :",Object(y.jsxs)("pre",{"data-testid":"json-headers",children:["Headers: ",r?JSON.stringify(r.headers,void 0,2):null]}),Object(y.jsxs)("pre",{"data-testid":"json-res-body",children:["Response: ",r?JSON.stringify(r.data,void 0,2):null]})]}):null})})},L=r(31),P=r(16),S=r(18),w={response:null,requestParams:{},isLoading:!1,searchTarget:{},history:[]},C=function(){var e=Object(b.a)(p.a.mark((function e(t,r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,!t||"GET"!==r){e.next=7;break}return e.next=4,x()({method:r,url:t}).then((function(e){return e})).catch((function(e){return console.log("error: ",e.message)}));case 4:case 10:case 16:case 22:return e.abrupt("return",n=e.sent);case 7:if(!t||"POST"!==r){e.next=13;break}return e.next=10,x()({method:r,url:"https://jsonplaceholder.typicode.com/posts",data:{title:"fake title",body:"fake body",userId:2}}).then((function(e){return e})).catch((function(e){return console.log("error: ",e.message)}));case 13:if(!t||"PUT"!==r){e.next=19;break}return e.next=16,x()({method:r,url:"https://jsonplaceholder.typicode.com/posts/1",data:{id:1,title:"foo",body:"bar",userId:1}}).then((function(e){return e})).catch((function(e){return console.log("error: ",e.message)}));case 19:if(!t||"DELETE"!==r){e.next=25;break}return e.next=22,x()({method:r,url:"https://jsonplaceholder.typicode.com/posts/1"}).then((function(e){return e})).catch((function(e){return console.log("error: ",e.message)}));case 25:return e.abrupt("return",n);case 26:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(console.log({type:r}),r){case"TOGGLE_isLoading":case"FETCH_SUCCESS":return Object(h.a)(Object(h.a)({},e),n);case"NEW_requestParams":return Object(h.a)(Object(h.a)({},e),{},{requestParams:Object(h.a)({},n)});case"UPDATE_history":return Object(h.a)(Object(h.a)({},e),{},{history:[].concat(Object(j.a)(e.history),[Object(h.a)({},n)])});case"SEARCH_history:":return Object(h.a)(Object(h.a)({},e),{},{searchTarget:e.history.find((function(e){return e.url===n}))});default:return e}},q=function(){var e=Object(i.useReducer)(N,w),t=Object(d.a)(e,2),r=t[0],n=t[1],s=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"TOGGLE_isLoading",payload:{isLoading:!0}}),n({type:"UPDATE_history",payload:Object(h.a)({},t)}),setTimeout((function(){n({type:"NEW_requestParams",payload:Object(h.a)({},t)}),n({type:"TOGGLE_isLoading",payload:{isLoading:!1}})}),1e3);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)(Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object.keys(r.requestParams).length>0)){e.next=5;break}return e.next=3,C(r.requestParams.url,r.requestParams.method);case 3:t=e.sent,n({type:"FETCH_SUCCESS",payload:{response:t}});case 5:case"end":return e.stop()}}),e)}))),[r.requestParams]),Object(y.jsxs)("div",{children:[Object(y.jsxs)(L.a,{fluid:!0,children:[Object(y.jsx)(P.a,{className:"justify-content-md-center",children:Object(y.jsx)(g,{title:"RESTy",url:r.requestParams.url,method:r.requestParams.method})}),Object(y.jsx)(P.a,{className:"justify-content-md-center",children:Object(y.jsx)(S.a,{md:"auto",children:Object(y.jsx)(E,{handleApiCall:s})})}),Object(y.jsx)(P.a,{className:"justify-content-md-center",children:r.response?Object(y.jsx)(S.a,{md:"auto",children:Object(y.jsx)(k,{isLoading:r.isLoading,response:r.response,history:r.history})}):null})]}),Object(y.jsx)(v,{})]})},_=function(e){Object(c.a)(r,e);var t=Object(a.a)(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"render",value:function(){return Object(y.jsx)(q,{})}}]),r}(o.a.Component),G=document.getElementById("root");l.a.render(Object(y.jsx)(_,{}),G)}},[[62,1,2]]]);
//# sourceMappingURL=main.f2c88c2f.chunk.js.map