{"version":3,"sources":["components/header/index.js","components/footer/index.js","components/form/index.js","components/history/index.js","components/results/index.js","app.js","index.js"],"names":["Header","title","method","url","className","Card","style","width","Body","Text","Footer","Form","handleApiCall","useState","setURL","setMethod","handleSubmit","e","a","preventDefault","target","reset","testid","onSubmit","onChange","value","placeholder","name","type","required","onClick","id","toUpperCase","History","history","map","item","idx","targetURL","console","log","Results","response","isLoading","body","JSON","stringify","headers","undefined","data","iState","requestParams","searchTarget","fetchAPI","axios","then","res","catch","message","userId","reducer","state","payload","find","App","useReducer","dispatch","callAPI","reqParams","setTimeout","useEffect","Object","keys","length","Container","fluid","Row","Col","md","Main","React","Component","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.f2c88c2f.chunk.js","sourcesContent":["import Card from 'react-bootstrap/Card'\n\nconst Header = ({title, method, url}) => {\n  return(\n    <>\n      <header>\n        <h1 \n          data-testid=\"header-1\"\n          className=\"header\">{title}</h1>\n        <h2 \n          title=\"subtitle\" \n          className=\"header2\"\n        >by: antoni909\n        </h2>\n      </header>\n      {\n        method && url\n        ?<Card style={{ width: \"30rem\"}}>\n          <Card.Body>\n            <Card.Text>\n              Method: {(method)}\n            </Card.Text>\n            <Card.Text>\n              URL: {(url)}\n            </Card.Text>\n          </Card.Body>\n         </Card>\n        :null\n      }\n    </>\n  )\n\n}\n\nexport default Header;\n","\nconst Footer = () => (\n    <div className=\"footer\">\n        <p> &copy; 2018 </p> \n    </div>\n)\n\nexport default Footer;\n","import React, {useState} from 'react'\nimport Card from 'react-bootstrap/Card'\nimport './form.scss';\n\nconst Form = ({handleApiCall}) => {\n\n  const [url, setURL] = useState('')\n  const [method, setMethod] = useState('')\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n      const payload = { \n        method: method, \n        url: url\n      }\n    handleApiCall(payload);\n    e.target.reset()\n  }\n    return (\n      <Card style={{ width: \"30rem\" }}>\n        <Card.Body>\n          <form testid=\"formsubmit\" onSubmit={handleSubmit}>\n            <label>\n              <span> URL </span>\n              <input\n                onChange={ (e) =>  setURL(e.target.value) }\n                placeholder=\"enter url here ...\"\n                name='url' \n                type='text'\n                required \n              />\n              <button \n                type=\"submit\"> GO </button>\n            </label>\n            <label \n              onClick={ (e) => setMethod(e.target.id.toUpperCase()) } \n              className=\"methods\">\n              <span id=\"get\">GET</span>\n              <span id=\"post\">POST</span>\n              <span id=\"put\">PUT</span>\n              <span id=\"delete\">DELETE</span>\n            </label>\n          </form>\n        </Card.Body>\n      </Card>\n    );\n}\n\nexport default Form;\n","import React, {useState} from 'react'\n// import Card from 'react-bootstrap/Card'\nimport './history.scss';\n\nconst History = ({history}) => {\n\n  // should contain: method, url, resutls in json\n\n  const handleClick = (targetURL) => {\n    console.log('clicked: ',targetURL)\n    // const action = {\n    //   type: 'SEARCH_history',\n    //   payload: targetURL\n    // }\n    // dispatch(action)\n  }\n\n  return(\n    <div>\n      Your History: \n      <ol>\n        {history.map((item,idx) => (\n          <li\n            onClick={()=> {handleClick(item.url)}} \n            key={idx}\n          >\n              {item.method} / {item.url}\n          </li>\n        ))}\n      </ol>\n    </div>\n  )\n}\n\nexport default History;\n","import History from '../history/index'\nimport Card from 'react-bootstrap/Card'\n\nconst Results = ({history, response, isLoading}) => {\n\n  return(\n    <div>\n      {\n        isLoading\n          ?<Card body style={ {width: \"50rem\"} } >\n            <Card.Text>\n              Fetching ...\n            </Card.Text>\n          </Card>\n          :<Card body style={ {width: \"50rem\"} }>{\n              response\n                ?<div>\n                  <History history={history}/>\n                    Your JSON :\n                  <pre data-testid=\"json-headers\">\n                    Headers: {response ? JSON.stringify(response.headers, undefined, 2) : null}\n                  </pre>\n                  <pre data-testid=\"json-res-body\">\n                    Response: {response ? JSON.stringify(response.data, undefined, 2) : null}\n                  </pre>\n                  </div>\n                : null\n          }</Card>\n      }\n    </div>\n  )\n}\n\nexport default Results;\n","import React, { useState, useEffect, useReducer } from 'react';\nimport axios from 'axios'\n// import fetchAPI from '../src/fetch'\nimport './app.scss';\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Form from './components/form';\nimport Results from './components/results';\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\n\nconst iState = {\n  response: null,\n  requestParams: {},\n  isLoading: false,\n  searchTarget:{},\n  history: []\n}\n\nconst fetchAPI = async (url,method) => {\n  let response = null\n  if( url && (method === 'GET') ){\n    return response = await axios({\n        method: method, \n        url: url,\n      })  \n        .then(res => res)\n        .catch( e => console.log('error: ', e.message))\n  }else if(url && (method === 'POST')){\n    return response = await axios({\n      method: method, \n      url: 'https://jsonplaceholder.typicode.com/posts',\n      data: {title:'fake title', body:'fake body', userId: 2}\n    })  \n      .then(res => res)\n      .catch( e => console.log('error: ', e.message))\n  }else if(url && (method === 'PUT')){\n    return response = await axios({\n      method: method, \n      url: 'https://jsonplaceholder.typicode.com/posts/1',\n      data: {\n        id: 1,\n        title: 'foo',\n        body: 'bar',\n        userId: 1,\n      }\n    })  \n      .then(res => res)\n      .catch( e => console.log('error: ', e.message))\n  }else if(url && (method === 'DELETE')){\n    return response = await axios({\n      method: method, \n      url: 'https://jsonplaceholder.typicode.com/posts/1'\n    })  \n      .then( res => res )\n      .catch( e => console.log('error: ', e.message))\n  }else{ return response }\n}\n\nconst reducer = (state = iState,{type,payload}) => {\n  console.log({type})\n  switch(type){\n    case 'TOGGLE_isLoading': return {...state, ...payload}\n    case 'NEW_requestParams': return {...state, requestParams:{...payload}}\n    case 'FETCH_SUCCESS': return {...state, ...payload}\n    case 'UPDATE_history': return{...state, history : [...state.history,{...payload}]}\n    case 'SEARCH_history:': return{\n      ...state,\n      searchTarget: state.history.find(item => item.url === payload)\n    }\n    default: return state\n  }\n}\n\nconst App = () => {\n\n  const [state, dispatch] = useReducer(reducer, iState)\n\n  const callAPI = async (reqParams) => { \n\n    dispatch({type:'TOGGLE_isLoading',payload: {isLoading: true}})\n    dispatch({type:'UPDATE_history', payload: {...reqParams}})\n\n    setTimeout(() => {\n      dispatch({type:'NEW_requestParams', payload: {...reqParams} })\n      dispatch({type:'TOGGLE_isLoading',payload: {isLoading: false} })\n    }, 1000);\n\n  }\n  \n  useEffect( async () => {\n    if(Object.keys(state.requestParams).length > 0){\n      const response = await fetchAPI(\n        state.requestParams.url, \n        state.requestParams.method\n      )\n      dispatch({type:'FETCH_SUCCESS', payload:{response: response}})\n    }\n  },[state.requestParams])\n\n  return (\n    <div>\n        <Container fluid>\n          <Row className=\"justify-content-md-center\">\n            <Header \n              title=\"RESTy\"\n              url={state.requestParams['url']}\n              method={state.requestParams['method']}\n            />\n          </Row>\n          <Row className=\"justify-content-md-center\">\n            <Col md=\"auto\">\n              <Form \n                handleApiCall={callAPI} \n              />\n            </Col>\n          </Row>\n          <Row className=\"justify-content-md-center\">\n            {\n              state.response\n              ?<Col md=\"auto\">\n              <Results\n                isLoading={state.isLoading} \n                response={state.response}\n                history={state.history} \n              />\n            </Col>\n              :null\n            }\n          </Row>\n        </Container>\n        <Footer />\n      </div>\n  );\n//end\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './app.js';\n\nclass Main extends React.Component {\n  render() {\n    return <App />;\n  }\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<Main />, rootElement);\n"],"sourceRoot":""}